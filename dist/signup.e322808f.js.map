{"mappings":"oeACA,IAAAA,EAAAC,EAAA,gDCDAC,EAAAD,EAAA,sBDeA,MAWME,EAAMH,EAAAI,cAXW,CACrBC,OAAQ,0CACRC,WAAY,qCACZC,UAAW,qBACXC,cAAe,iCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAKjBC,QAAQC,IAAIV,GACZ,MAAMW,EAAOC,EAAAC,QAAQb,GACfc,EAAKf,EAAAgB,aAAaf,GAGlBgB,GAFYC,EAAAC,aAAalB,GAEhBmB,SAASC,eAAe,iBACjCC,EAAQF,SAASC,eAAe,eAEzB,MAAVJ,GACHA,EAAOM,iBAAiB,UAASC,MAAOC,IACpCA,EAAEC,iBAEF,MAIMC,EAAS,MAJFV,EAAOW,KAAKC,YACXZ,EAAOa,MAAMD,eACVZ,EAAOc,SAASF,MAM7BG,SAAQ,GAGNC,QC/CVT,eAA2BU,GAH3BJ,MAGiCA,EAHjCC,SAGuCA,IACnC,IAEI,aADsBlB,EAAAsB,+BAA+BD,EAAMJ,EAAOC,GAErE,MAAMN,GACY,uBAAXA,EAAEW,MACFC,MAAM,yBAEI,8BAAVZ,EAAEW,MACFC,MAAM,uBDsCYC,CAAW1B,EAAKe,SCtB9CH,eAAiCe,EAAGC,EAAOC,GACvC,UACUzC,EAAA0C,OAAO1C,EAAA2C,IAAIJ,EAAI,QAASC,GAASC,GACrC,MAAOhB,GACLf,QAAQC,IAAIc,IDmBdmB,CAAkB7B,EAAGkB,EAAYY,KAAKC,IAAInB,GAChDjB,QAAQC,IAAIsB,MAOH,MAATX,GACJA,EAAMC,iBAAiB,UAAUE,IAC7BA,EAAEC,iBAEF,MAAMI,EAAQR,EAAMQ,MAAMD,MACpBE,EAAWT,EAAMS,SAASF,OC9CpCL,eAAuBU,EAAKJ,EAAMC,GAC9B,IACI,MApBRc,KAoBgBA,SAAehC,EAAAkC,2BAA2Bb,EAAMJ,EAAOC,GAC/DM,MAAM,qCACT,MAAOZ,GACAY,MAAM,gCD2CdW,CAAOpC,EAAKkB,EAAMC,GACdc,KAAKb,QACLiB,SAASC,KAAM","sources":["app.js","src/scripts/functions/auth.js"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth} from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getAnalytics } from \"firebase/analytics\";\n\n\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\n\nimport { signIn, createUser, addUserToDataBase} from \"./src/scripts/functions/auth\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyB-xOwIS7wFd3w8yx8H5UNtBp_50hs_Wa0\",\n  authDomain: \"taller-2-web-35197.firebaseapp.com\",\n  projectId: \"taller-2-web-35197\",\n  storageBucket: \"taller-2-web-35197.appspot.com\",\n  messagingSenderId: \"351844915270\",\n  appId: \"1:351844915270:web:43ef4a973f3535f7d75247\",\n  measurementId: \"G-EVXMQHWZJN\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconsole.log(app);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst analytics = getAnalytics(app);\n\nconst signup = document.getElementById(\"signup__form\");\nconst login = document.getElementById(\"login__form\");\n\nif(signup != null){\nsignup.addEventListener(\"submit\",async (e) => {\n    e.preventDefault();\n\n    const name = signup.name.value;\n    const email = signup.email.value;\n    const password = signup.password.value;\n\n    const newUser ={\n        name,\n        email,\n        password,\n        isAdmin:false\n    }\n\n    const userCreated = await createUser(auth,newUser);\n    await addUserToDataBase(db,userCreated.user.uid,newUser);\n    console.log(userCreated);\n\n    /*window.location.href=\"index.html\"*/\n\n})\n} \n\nif (login != null){\nlogin.addEventListener(\"submit\", e => {\n    e.preventDefault();\n\n    const email = login.email.value;\n    const password = login.password.value;\n\n    signIn(auth,email,password);\n    if (user.isAdmin){\n        location.href =\"#\";\n        \n    }else{\n        location.href =\"#\";\n    }\n\n\n})\n}\n\nexport {\n    app, auth, db\n}\n\n\n\n\n\n\n","import { doc, setDoc } from \"firebase/firestore\";\nimport {createUserWithEmailAndPassword, signInWithEmailAndPassword } from \"firebase/auth\";\n\nasync function createUser (auth,{email,password}){\n    try{\n        const newUser = await createUserWithEmailAndPassword(auth, email, password);\n        return newUser;\n    }catch(e){\n        if (e.code === \"auth/weak-password\"){\n            alert(\"At least 6 characters\");\n        }\n        if (e.code ===\"auth/email-already-in-use\"){\n            alert(\"Try an other email\");\n        }\n    }\n    \n}\n\nasync function signIn (auth,email,password){\n    try{\n        const { user } = await signInWithEmailAndPassword(auth, email, password);\n        alert('Bienvendio, usuario ${user,email}');\n    }catch (e) {\n            alert(\"Email or password incorrect\");\n        \n    }\n}\n\nasync function addUserToDataBase(db,userId,userInfo){\n    try{\n        await setDoc(doc(db, \"users\", userId), userInfo);\n        } catch (e){\n            console.log(e);\n        }\n\n    }\n\n\nexport {\n    createUser,\n    signIn,\n    addUserToDataBase\n}\n\n"],"names":["$fXOuZ","parcelRequire","$etBjH","$6b17f08f738443dc$export$729c8b7179294ba","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","console","log","$6b17f08f738443dc$export$73693bad9f5880b0","$1tHc5","getAuth","$6b17f08f738443dc$export$f932f06c7eb6abeb","getFirestore","$6b17f08f738443dc$var$signup","$brMx4","getAnalytics","document","getElementById","$6b17f08f738443dc$var$login","addEventListener","async","e","preventDefault","newUser","name","value","email","password","isAdmin","userCreated","auth","createUserWithEmailAndPassword","code","alert","$9a41b7ebdf9580fc$export$3493b8991d49f558","db","userId","userInfo","setDoc","doc","$9a41b7ebdf9580fc$export$587c2b1c2abea0f5","user","uid","signInWithEmailAndPassword","$9a41b7ebdf9580fc$export$9670d83f11d4b64a","location","href"],"version":3,"file":"signup.e322808f.js.map"}