{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SCAAA,EAAA,0BDGA,MAAMC,EAAiBC,SAASC,eAAe,YACzCC,EAAiBF,SAASC,eAAe,YAE/C,IAAIE,EAAW,GAaf,SAASC,EAAeC,GACpB,MAAMC,EAAUN,SAASO,cAAc,KACvCD,EAAQE,UAAY,UAEpBF,EAAQG,aAAa,OAAO,4BAE5B,MAAMC,EAAaL,EAAKM,OAASN,EAAKM,OAAO,GAAI,wBAEjDL,EAAQM,UAAY,gDACRF,4GAEuBL,EAAKQ,mDACRR,EAAKS,iDACJT,EAAKU,kGAM1ChB,EAAeiB,YAAYV,GAe3BJ,EAAee,iBAAiB,UAASC,KAZzC,WACI,MAAMC,EAAcjB,EAAekB,MAC7BC,EAAmBlB,EAASmB,QAAQhB,GAAUA,EAAQO,WAAaM,IAEzEpB,EAAea,UAAW,GAE1BS,EAAiBE,SAASjB,IACtBF,EAAeE,MAMnBkB,MA9CJC,iBACI,MAAMC,QCNVD,eAA2BE,GACvB,MAAMC,EAAgBC,EAAAC,WAAWH,EAAI,YACjC,IAEI,MAPZI,KAOoBA,SAAeF,EAAAG,QAAQJ,GAS/B,OARyBG,EAAKE,KAAKC,IAC/BC,QAAQC,IAAIF,GACN,IACCA,EAAIG,OACPC,GAAIJ,EAAII,OAKlB,MAAMpB,GACJiB,QAAQC,IAAIlB,IDTWqB,CAAY1C,EAAA8B,IAC3C5B,EAAea,UAAY,GAC3Bc,EAAiBH,SAASjB,IACtBF,EAAeE,MAGnBH,EAASuB,iBA0Cbc","sources":["src/scripts/functions/shop.js","src/scripts/functions/products.js"],"sourcesContent":["import {db,storage} from \"./properties\"\nimport{getProducts} from \"../functions/products\";\n\nconst productSection = document.getElementById(\"products\");\nconst categoryFilter = document.getElementById(\"category\");\n\nlet products = [];\n\nasync function loadProducts(){\n    const firebaseProducts = await getProducts(db);\n    productSection.innerHTML = \"\";\n    firebaseProducts.forEach (product => {\n        renderProducts(product);\n    });\n\n    products.firebaseProducts;\n    \n}\n\nfunction renderProducts(item){\n    const product = document.createElement(\"a\");\n    product.className = \"product\";\n\n    product.setAttribute(\"href\",`./product.html?id=abcdef`)\n\n    const coverImage = item.images ? item.images[0]: \"./img/placeholder.jpg\";\n\n    product.innerHTML = ` <a class=\"product\" href=\"#\">\n    <img src=\"${coverImage}\" alt=\"\" class=\"product__image\">\n    <div class=\"product__info\">\n        <p class=\"product__category\">${item.category}</p>\n        <h2 class=\"product__name\">${item.name}</h2>\n        <h3 class=\"product__price\">${item.price}</h3>\n        <button class=\"product__btn\">AÃ±adir al carrito</button>\n    </div>\n</a>\n`;\n\nproductSection.appendChild(product);\n}\n\nfunction filterBy(){\n    const newCategory = categoryFilter.value;\n    const filteredProducts = products.filter((product)=>product.category === newCategory);\n\n    productSection.innerHTML =\"\";\n\n    filteredProducts.forEach (product => {\n        renderProducts(product);\n    });\n    \n}\n\ncategoryFilter.addEventListener(\"change\",e => {\n    filterBy();\n})\n\nloadProducts();","import {app, auth, db, storage} from \"./properties\"\nimport {collection,getDocs} from \"firebase/firestore\";\n\nasync function getProducts(db) {\n    const collectionRef = collection(db, \"products\");\n        try {\n\n            const { docs } = await getDocs(collectionRef);\n            const firebaseProducts = docs.map((doc) =>{\n                console.log(doc);\n                return{\n                    ...doc.data(),\n                    id: doc.id,\n                };\n            });\n        \n            return firebaseProducts;\n        } catch(e){\n            console.log(e);\n        }\n}\n\nexport{\n    getProducts,\n}"],"names":["$9SbQW","parcelRequire","$3827cd926088bb92$var$productSection","document","getElementById","$3827cd926088bb92$var$categoryFilter","$3827cd926088bb92$var$products","$3827cd926088bb92$var$renderProducts","item","product","createElement","className","setAttribute","coverImage","images","innerHTML","category","name","price","appendChild","addEventListener","e","newCategory","value","filteredProducts","filter","forEach","$3827cd926088bb92$var$filterBy","async","firebaseProducts","db","collectionRef","$etBjH","collection","docs","getDocs","map","doc","console","log","data","id","$3f21a7ce0033bb95$export$68a801b7b3c0bfaa","$3827cd926088bb92$var$loadProducts"],"version":3,"file":"shop.bb6709d4.js.map"}