var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},t={},n=e.parcelRequire6113;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in t){var n=t[e];delete t[e];var a={id:e,exports:{}};return o[e]=a,n.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,o){t[e]=o},e.parcelRequire6113=n);var a=n("9SbQW"),r=n("etBjH"),l=n("aYguL");async function c(e,o=[]){return o.map((async o=>{const t=await async function(e,o){const t=l.ref(e,`products/img/${o.name}`);return await l.uploadBytes(t,o)}(e,o);return l.getDownloadURL(l.ref(e,t.ref.fullPath))}))}const i=document.getElementById("createProductForm");console.log(i),console.log(a.storage),i.addEventListener("submit",(async e=>{e.preventDefault(),console.log("Add a new product");const o=i.name.value,t=i.description.value,n=i.price.value,l=i.category.value,s=i.img.files;let d=[];if(s.length){const e=await c(a.storage,[...s]);d=await Promise.all(e)}const u={name:o,description:t,price:n,category:l,img:d};await async function(e,o){try{await r.addDoc(r.collection(e,"products"),o),console.log("Product added")}catch(e){console.log(e)}}(a.db,u)}));
//# sourceMappingURL=createProduct.ea8b79a3.js.map
